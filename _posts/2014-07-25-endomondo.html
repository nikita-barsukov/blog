---
layout: post
title: Maps of running routes in European cities.
description: Public running routes tracked with Endomondo are mapped in some European cities.
summary: A popular fitness tracker Endomondo.com contains plenty of public workouts. I scraped a small portion of these workouts and out them on a map of some European cities. 
category: "visualisation"
tags: ["endomondo", "running","copenhagen", "fitness", "map"]
redirect_from: "/endomondo.html"
noToc: true
---
   <script src="//cdnjs.cloudflare.com/ajax/libs/jquery/2.1.1/jquery.min.js"></script>
   <script src="//malsup.github.com/jquery.cycle2.js"></script>
    <style type="text/css">
      #pager{
        font-size: 20pt;
        cursor: pointer;
      }
      #pager span:hover{
        color: gray;
      }
      .cycle-pager-active{
        color: red!important;
      }
      .cycle-next, .cycle-prev {
        margin-top: 10px;
        display: inline-block;
        cursor: pointer;
      }
    </style>   
   <p>Endomondo is a fitness tracking mobile app. By default user tracks are public and available online. I parsed first 170k public workouts, extracted GPS data out of them and put routes on city maps.</p>

    <p>Despite the fact that raw log of these workouts was around 20 Gb in size, this is only around 1% of all the workouts available.</p>

    <p>This is map of running and walking workouts in selected European cities.</p>
    <div id="city-maps"  class="cycle-slideshow" data-cycle-loader="true" data-cycle-fx="scrollHorz" data-cycle-pager="#pager" data-cycle-timeout="0" data-cycle-slides="div.city-map">
      <div class="cycle-prev">&larr;</div>
      <div class="cycle-next">&rarr;</div>

      <div class="city-map">
        <h3>Copenhagen</h3>
        <img class="map" src="https://s3-eu-west-1.amazonaws.com/barsukov-assets/images/copenhagen.png" alt="Endomondo workouts in Copenhagen"/>        
      </div>

      <div class="city-map">
        <h3>Stockholm</h3>
        <p><img class="map" src="https://s3-eu-west-1.amazonaws.com/barsukov-assets/images/stockholm.png" alt="Endomondo workouts in Stockholm"/></p>       
      </div>

      <div class="city-map">
        <h3>Oslo</h3>
        <img class="map" src="https://s3-eu-west-1.amazonaws.com/barsukov-assets/images/oslo.png" alt="Endomondo workouts in Oslo"/>      
      </div>

      <div class="city-map">
        <h3>Helsinki</h3>
        <img class="map" src="https://s3-eu-west-1.amazonaws.com/barsukov-assets/images/helsinki.png" alt="Endomondo workouts in Helsinki"/>       
      </div>

      <div class="city-map">
        <h3>Barcelona</h3>
        <img class="map" src="https://s3-eu-west-1.amazonaws.com/barsukov-assets/images/barcelona.png" alt="Endomondo workouts in Barcelona"/> 
      </div>

      <div class="city-map">
        <h3>Warsaw</h3>
        <img class="map" src="https://s3-eu-west-1.amazonaws.com/barsukov-assets/images/warsaw.png" alt="Endomondo workouts in Warsaw"/>       
      </div>

      <div class="city-map">
        <h3>Berlin</h3>
        <img class="map" src="https://s3-eu-west-1.amazonaws.com/barsukov-assets/images/berlin.png" alt="Endomondo workouts in Berlin"/>      
      </div>

    </div>
    <div id="pager" class="cycle-pager"></div>

    <p>I used a script in Ruby to download HTML pages of endomondo workouts, extract necessary information and write it to a delimited file. Then I used <a href="http://www.r-project.org">R</a> to clean up log files, extract GPS coordinates and put them on map. R libraries I used: <a href="http://ggplot2.org">ggplot</a> and <a href="http://cran.r-project.org/web/packages/ggmap/index.html">ggmap</a> for plotting, RJSONIO for parsing JSON data. Map tiles are from <a href="http://maps.stamen.com/watercolor/#11/55.6757/12.5676">Stamen</a>. Code behind this project is in a <a href="http://barsukov.net/programming/2014/07/26/endomondo-code.html">separate post</a>.</p>
